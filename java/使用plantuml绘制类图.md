# 使用PlantUML绘制类图

## 类的关系

在面向对象语言中, 类的关系有很多种, 可以概括为三类: **泛化**, **依赖**, **关联**.

### 泛化

泛化指父类跟子类的关系, 表示**is-a**的关系. 如父类是抽象类或普通类, 则这种关系叫继承.  
如父类是接口, 则这种关系叫实现. UML中, 继承和实现由不同的标记表示.

#### 继承

plantuml用 **--|>**表示继承关系. 实线和三角形的抽象表示, 指向谁, 即继承谁.

```plantuml
class A
abstract B

A --|> B: "A继承B"

```

#### 实现

plantuml用 **..|>**表示实现关系. 虚线和三角形的抽象表示, 指向谁, 即实现谁.

```plantuml

class A
interface C

A ..|> C: "A实现C"

```

### 依赖

类之间, 最弱的关联方式. 常用于在A类的方法中使用B类的对象作为参数, 局部变量或者对B类静态方法的调用.

plantuml用 **..>**表示依赖关系. 虚线和箭头的抽象表示, 指向谁, 即依赖谁.

```plantuml
class A
class B

A .. B: "A依赖B"
```

### 关联

关联关系, 即对象之间的引用关系. 常使用类的属性表达.

#### 单向关联

B类作为A类的属性, 表示A类与B类有关联.  
plantuml用 **-->** 表示单向关联. 实线和箭头的抽象表示, 指向谁, 即关联谁.

```plantuml
class A {
    - B b
}

class B

A --> B:"A关联B"
```

#### 双向关联

B类作为A类的属性同时, A类也是B类的属性, 表示双向关联.  
plantuml用 **---**表示双向关联, 或者用 **<-->**

```plantuml

class A {
    -B b
}

class B {
    -A a
}

A -- B:"A关联B"

```

#### 自关联

A类关联A类自身.常用于单利模式

```plantuml
class A {
    - A a
}

A --> A:"A关联A"
```

#### 聚合

在关联关系的基础上, 延伸出聚合关系, 强的关联关系, 表示 **has-a**关系.整体与部分的关系,  
部分不依赖于整体, 可独立存在.常用与成员变量.

如: 汽车和轮胎的关系, 轮胎可作为独立的商品出售.  

plantuml用 **o--**表示聚合关系. 实线和空心菱形的抽象表示, 指向谁, 表示谁是整体.

```plantuml

class Car {
    - List<Wheel> wheels
}

class Wheel

Car "1" o-- "4" Wheel

```

#### 组合

在关联关系的基础上, 延伸出另外一种关联关系, 组合关系, 表示 **contains-a**关系. 整体  
与部分的关系, 部分依赖于整体, 不可独立存在. 常用与成员变量.  
如: 身体和动作的关系.
plantuml用 ***--**组合关系. 实线和实心菱形的抽象表示, 指向谁, 表示谁是整体.

```plantuml
class Body {
    - List<Action> actions
}

class Action

Body "1" *-- "N" Action
```