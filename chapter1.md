## 汇编（nasm\/masm）

#### div指令

1. 除数：有8位和16位两种，在一个reg或内存单元中。
2. 被除数：默认在ax或dx和ax中，如果除数为8位，则被除数为16位，默认在ax中存放；如果除数为16位，被除数就是32位，在dx和ax中存放，dx存放高16位，ax存放低16位。
3. 结果：如果除数为8位，则al存储除法操作的商，ah存储除法操作的玉树余数；如果除数为16位，则ax存储除法操作的商，dx存储除法操作的余数。
4. 格式如下：

  ```
  div reg
  div 内存单元
  div byte ptr ds:[0]
  含义：(al)=(ax)/(ds_16+0)的商
  (ah)=(ax)/(ds_16+0)的余数
  ```


#### xor指令

1. 异或命令。
2. 1 xor 1 = 0
3. 1 xor 0 = 1
4. 0 xor 0 = 0
5. 0 xor 1 = 1

#### in\/out端口和读写指令

1. 端口在不同的计算机系统中有着不同的实现方式。在一些计算机系统中，端口号是映射到内存地址空间的。比如0x00000~0xE0000是真实的物理内存，而0xE0001~0xFFFFF是从IO接口映射过来的，当访问这部分地址的时，实际上实在访问IO接口
2. 而在另一些计算机系统中，端口是独立编址的，不和内存地址空间发生关系。在这种计算机中，处理器的地址线即连接内存，也连接每个IO接口。在这种处理器中有一个引脚用来区分是内存还是IO接口，当处理器访问内存时，会让这个引脚为高电平，然后与内存相关的电路就会打；相反，如果处理器访问IO端口，那个会让这个引脚为低电平，内存电路被禁止
  如： 0x0001,0x0002,0x0003,.....每个IO接口都会分配若干端口。

3. 在in和out指令中，只能使用ax或al来存放从端口中读入的数据或要发送到端口中的数据。

4. 例如：

  ```
  mov dx, 3f8h
  in al, dx ;al用来存放要读入的数据。
  out dx, al;al用开存放要发送到端口的数据
  ```


#### 程序分段

1. `section 段名称`
2. intel处理器要求段在内存中的其实起始物理地址是16字节对齐的。
3. 汇编语言中定义的各个段，也有对齐的要求。具体做法是，在段定义中使用`align=`字句，用于指定某个section的汇编地址对齐方式。比如说`align=16`就表示段是16字节对齐的。
4. ```
  section data1 align=16
  db 0x55
  section data2 align=16
  db 0x66
  section data3 align=16
  db 0x77

```

